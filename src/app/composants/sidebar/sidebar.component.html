<ng-container *ngIf="authService.isLoggedIn">

<!-- Overlay flou uniquement sur mobile -->
<div *ngIf="isOpen"
     (click)="toggleSidebar()"
     class="fixed inset-0 bg-black/30 backdrop-blur-sm z-30 md:hidden">
</div>

<!-- Sidebar toujours visible en desktop, toggle sur mobile -->
<nav [class.hidden]="!isOpen"
     class="fixed left-0 w-64 bg-[#F7F2FA] text-[#49454F] flex flex-col p-6 space-y-4 z-40 shadow-lg">

  <!-- En-tête -->
  <div class="flex flex-row justify-between items-center mb-6">
    <div class="text-2xl font-bold">Vestigia</div>

    <!-- Bouton Fermer uniquement mobile -->
    <button (click)="toggleSidebar()"
            class="md:hidden p-2 bg-indigo-600 hover:bg-indigo-800 rounded text-white">
      ✕
    </button>
  </div>

  <!-- Liens -->
  <a routerLink="/dashboard" routerLinkActive="bg-[#E8DEF8]" class="p-2 rounded hover:bg-[#E8DEF8] rounded-full">Explorer</a>
  <a routerLink="/utilisateurs" routerLinkActive="bg-[#E8DEF8]" class="p-2 rounded hover:bg-[#E8DEF8] rounded-full">Compte</a>
  <a routerLink="/taches" routerLinkActive="bg-[#E8DEF8]" class="p-2 rounded hover:bg-[#E8DEF8] rounded-full">Favoris</a>

  <!-- Déconnexion -->
  <a (click)="logout()"
     class="mt-auto p-2 rounded-full bg-red-600 hover:bg-red-700 text-center text-white cursor-pointer">
    Déconnexion
  </a>
</nav>

<!-- Bouton ouverture uniquement mobile -->
<button *ngIf="!isOpen"
        (click)="toggleSidebar()"
        class="md:hidden p-2 text-white bg-indigo-600 fixed top-0 left-0 z-50 rounded shadow">
  ☰
</button>
</ng-container>
